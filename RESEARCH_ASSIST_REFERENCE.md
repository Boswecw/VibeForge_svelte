# Research & Assist Panel: Component Reference

## Visual Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VibeForge Workbench                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚ â”‚
â”‚  ðŸ“š Research / Assist  ðŸ’¾ Save  â­ Presets  [Model] [Run]        â”‚ â”‚
â”‚                                                                    â”‚ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚ â”‚
â”‚                                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   Context â”‚ Prompt â”‚ Output                            â”‚Research â”‚ â”‚
â”‚           â”‚        â”‚                                   â”‚& Assist â”‚ â”‚
â”‚           â”‚        â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚           â”‚        â”‚                      â”‚ Research &      â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚   Assist        â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ Notes Snippets  â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ [Notes]          â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ Workspace notes â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚                â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ [Textarea]     â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ Keep rough res â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ notes, links.. â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚                â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ Notes are stor â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ locally for nowâ”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚                â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â”‚ [x] Close      â”‚    â”‚ â”‚
â”‚           â”‚        â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚           â”‚        â”‚                                             â”‚ â”‚
â”‚           â”‚        â”‚                                             â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Tab Layout

### Tab Bar

```
[Notes] [Snippets] [Suggestions]
 ^^^^^^
 (amber bg when active)
```

---

## Notes Panel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Workspace Notes            â”‚
â”‚ Keep rough research notes, â”‚
â”‚ links, and references here â”‚
â”‚ while you work.            â”‚
â”‚                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [Textarea]           â”‚   â”‚
â”‚ â”‚                      â”‚   â”‚
â”‚ â”‚ Paste research notes â”‚   â”‚
â”‚ â”‚ links, or key...     â”‚   â”‚
â”‚ â”‚                      â”‚   â”‚
â”‚ â”‚ (min-h-60)           â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â”‚
â”‚ Notes are stored locally.  â”‚
â”‚ TODO: sync per workspace.  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Snippets Panel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Snippets                            â”‚
â”‚ Reusable blocks you can insert      â”‚
â”‚ into your prompt.                   â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Code Review Boilerplate    â”‚Insertâ”‚
â”‚ â”‚ coding Â· VibeForge Dev          â”‚ â”‚
â”‚ â”‚ [code] [review] [boilerplate]   â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ Review this code for:           â”‚ â”‚
â”‚ â”‚ - Security vulnerabilities      â”‚ â”‚
â”‚ â”‚ - Performance bottlenecks       â”‚ â”‚
â”‚ â”‚ ...                             â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ Updated 2 days ago              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Story Structure Checklist   â”‚Insertâ”‚
â”‚ â”‚ writing Â· AuthorForge           â”‚ â”‚
â”‚ â”‚ [story] [structure] [writing]   â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ Story Structure Verification:   â”‚ â”‚
â”‚ â”‚ - [ ] Clear protagonist         â”‚ â”‚
â”‚ â”‚ - [ ] Inciting incident         â”‚ â”‚
â”‚ â”‚ ...                             â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ Updated 1 week ago              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ ... (more snippets)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Suggestions Panel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Suggestions                         â”‚
â”‚ Prompting tips and reminders        â”‚
â”‚ to improve runs.                    â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Separate Instructions from      â”‚ â”‚
â”‚ â”‚ Content                         â”‚ â”‚
â”‚ â”‚ prompting                       â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ Keep your system instructions   â”‚ â”‚
â”‚ â”‚ distinct from the user content. â”‚ â”‚
â”‚ â”‚ Use clear markers or sections.. â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Be Explicit About Format        â”‚ â”‚
â”‚ â”‚ structure                       â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ Don't assume the model will     â”‚ â”‚
â”‚ â”‚ guess your desired output       â”‚ â”‚
â”‚ â”‚ format...                       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ ... (more suggestions)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Color Scheme

### Dark Mode (Default)

- **Background**: `bg-slate-950` (#0B0F17 / forge-blacksteel)
- **Panel BG**: `bg-slate-900` (#111827 / forge-gunmetal)
- **Borders**: `border-slate-800` (#233044 / forge-line)
- **Text Primary**: `text-slate-100`
- **Text Secondary**: `text-slate-400`
- **Active Tab**: `bg-amber-500 text-slate-900` (forge-ember)

### Light Mode

- **Background**: `bg-white`
- **Panel BG**: `bg-slate-50`
- **Borders**: `border-slate-200`
- **Text Primary**: `text-slate-900`
- **Text Secondary**: `text-slate-500`
- **Active Tab**: `bg-amber-500 text-slate-900`

---

## Data Types

### ResearchAssistDrawer Props

```typescript
interface Props {
  open: boolean;
  workspace: string;
  mode?: "workbench" | "quick-run";
  onClose?: () => void;
  onInsertSnippet?: (text: string) => void;
}
```

### Snippet Type (Internal)

```typescript
type Snippet = {
  id: string;
  title: string;
  category: "coding" | "writing" | "analysis" | "other";
  workspace: string;
  text: string;
  tags: string[];
  updatedAt: string;
};
```

### Suggestion Type (Internal)

```typescript
type Suggestion = {
  id: string;
  title: string;
  category: "prompting" | "structure" | "safety" | "evaluation";
  body: string;
};
```

---

## Interaction Flow

### Opening the Panel

```
User clicks "ðŸ“š Research / Assist" button
    â†“
isResearchOpen = true
    â†“
ResearchAssistDrawer renders (fixed position, z-40)
    â†“
Panel shows with backdrop (fixed inset-0)
```

### Switching Tabs

```
User clicks "Snippets" tab
    â†“
activeTab = 'snippets'
    â†“
Content area re-renders (Snippets panel visible)
```

### Inserting Snippet

```
User clicks "Insert" on a snippet
    â†“
onInsertSnippet event fired with snippet.text
    â†“
Parent (Workbench) receives event
    â†“
handleInsertSnippet(text) appends to prompt:
  currentPrompt + "\n\n" + text
    â†“
promptState.setText(newPrompt)
    â†“
Prompt column updates (reactively)
```

### Closing Panel

```
User clicks "Close" button OR clicks backdrop
    â†“
onClose event fired
    â†“
isResearchOpen = false
    â†“
ResearchAssistDrawer conditionally unmounts
```

---

## Key Styling Classes

### Header

```svelte
class="flex items-center justify-between px-4 py-3 border-b"
```

### Tab Button (Active)

```svelte
class="px-3 py-1.5 rounded-full border font-medium bg-amber-500 text-slate-900 border-amber-500"
```

### Tab Button (Inactive)

```svelte
class="px-3 py-1.5 rounded-full border font-medium bg-slate-900 border-slate-700 text-slate-200 hover:bg-slate-800"
```

### Content Area

```svelte
class="flex-1 overflow-y-auto px-4 py-4 text-xs"
```

### Snippet Card

```svelte
class="rounded-md border p-3 flex flex-col gap-2 bg-slate-900 border-slate-700"
```

### Insert Button

```svelte
class="px-2 py-1 rounded-md text-[11px] font-medium bg-amber-500 text-slate-900 hover:bg-amber-600 whitespace-nowrap"
```

---

## Browser Support

- Modern browsers (Chrome, Firefox, Safari, Edge)
- CSS Grid, Flexbox, CSS Variables âœ“
- Tailwind CSS v4 âœ“
- Svelte 5 runes (`$state`, `$derived`) âœ“
- Fixed positioning and z-index stacking âœ“

No polyfills required.

---

## Performance Notes

- **Lightweight**: Single component, ~450 lines of code
- **No subscriptions**: Uses prop drilling and callbacks, not complex store hierarchies
- **Mocked data**: Snippets and suggestions are derived (cached) arrays; no external queries
- **Smooth animations**: Uses Tailwind's `transition-all` and `transition-colors` for tab switches
- **Scrollable overflow**: Only content area scrolls; header/tabs stay fixed

---

## Accessibility

- **Semantic HTML**: `<header>`, `<nav>`, `<section>`, `<article>` elements
- **ARIA labels**: Close button, role="button" on backdrop
- **Keyboard support**: Tabs are buttons (focusable), textarea is focusable
- **Color contrast**: Text meets WCAG AA standards on both dark and light modes
- **Focus ring**: Textarea has `focus:ring-2 focus:ring-amber-500`

---

## Future Considerations

### Snippet Search/Filter

```svelte
let searchQuery = $state('');
let filtered = $derived(
  snippets.filter(s =>
    s.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
    s.tags.some(t => t.includes(searchQuery))
  )
);
```

### Custom Snippet Creation

```svelte
let newSnippet = $state({ title: '', text: '', tags: [] });
const saveSnippet = () => {
  snippets.push({ id: crypto.randomUUID(), ...newSnippet, updatedAt: new Date().toISOString() });
};
```

### Workspace Sync

```typescript
// In parent component
const workspaceSnippets = $derived.by(() => {
  return snippetStore.getByWorkspace(workspace);
});
```
